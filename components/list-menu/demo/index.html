<!doctype html>
<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <title>list-menu Demo</title>
    <script src="../../../bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
    <link rel="import" href="../list-menu.html">
</head>
<body unresolved>

<list-menu></list-menu>
<input type="text" title="router"/><button onclick="_changeSelected();">change selected</button>
<h4>当前URL:</h4>
<p id="currentUrl"></p>

<script>
    var myEl = document.querySelector('list-menu');
    var baseLocation = window.location.protocol + '//' + location.host + window.location.pathname;
    var currentUrl = document.querySelector('#currentUrl');
    currentUrl.innerHTML = baseLocation;

    var _changeSelected = function(){
        myEl.changeRouteTo(document.querySelector('input').value);
    };

    myEl.config = [
        {value:"卧室",icon:"maps:local-hotel",route:"bedroom"},
        {value:"客厅",icon:"notification:airline-seat-recline-normal",route:"livingroom"},
        {value:"厨房",icon:"maps:local-dining",route:"kitchen"}
    ];

    document.addEventListener('route-change',function(e){
        var info = e.detail;
        currentUrl.innerHTML = baseLocation + '#!' + info.target;
        window.location = currentUrl.innerHTML;
    });

</script>

</body>
</html>
